# Railway config for CAMS Backend (Laravel API)
# Set this service's Root Directory to "backend" in Railway Dashboard.

[build]
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile"
watchPatterns = ["composer.json", "composer.lock", "*.php", "docker-entrypoint.sh", "nginx.conf", "railway.toml"]

[deploy]
# Healthcheck omitted: cams-reverb (RUN_MODE=reverb) does not serve HTTP, so /health would fail.
# Both cams-backend and cams-reverb use this file; deploy succeeds when container starts.
restartPolicyType = "ALWAYS"
